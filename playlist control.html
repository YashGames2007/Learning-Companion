<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>YouTube Manual Playlist Control</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                text-align: center;
                margin-top: 40px;
            }
            button {
                margin: 5px;
                padding: 10px 15px;
                border: none;
                border-radius: 6px;
                background: #ff0000;
                color: white;
                cursor: pointer;
            }
            button:hover {
                background: #cc0000;
            }
        </style>
    </head>
    <body>
        <h1>YouTube Playlist (Manual Control)</h1>
        <p>
            This is just a manual controlling playlist which we need to put all
            video links manually in list to play one by one
        </p>
        <!-- Player container -->
        <div id="player"></div>

        <!-- Controls -->
        <div>
            <button onclick="playPrevious()">Previous</button>
            <button onclick="player.playVideo()">Play</button>
            <button onclick="player.pauseVideo()">Pause</button>
            <button onclick="player.stopVideo()">Stop</button>
            <button onclick="playNext()">Next</button>
        </div>

        <!-- Load YouTube API -->
        <script src="https://www.youtube.com/iframe_api"></script>
        <script>
            var player;
            var playlist = [
                "M7lc1UVf-VE", // sample video IDs
                "dQw4w9WgXcQ",
                "kXYiU_JCYtU",
            ];
            var currentIndex = 0;

            function onYouTubeIframeAPIReady() {
                player = new YT.Player("player", {
                    height: "390",
                    width: "640",
                    videoId: playlist[currentIndex],
                    events: {
                        onReady: onPlayerReady,
                        onStateChange: onPlayerStateChange,
                    },
                });
            }

            function onPlayerReady(event) {
                console.log("Player ready. Playlist size:", playlist.length);
            }

            function onPlayerStateChange(event) {
                if (event.data === YT.PlayerState.ENDED) {
                    alert(
                        "âœ… Video " +
                            (currentIndex + 1) +
                            " of " +
                            playlist.length +
                            " finished!"
                    );

                    if (currentIndex === playlist.length - 1) {
                        alert("ðŸŽ‰ Playlist complete!");
                    }
                }
            }

            function playNext() {
                if (currentIndex < playlist.length - 1) {
                    currentIndex++;
                    player.loadVideoById(playlist[currentIndex]);
                } else {
                    alert("ðŸš« End of playlist reached!");
                }
            }

            function playPrevious() {
                if (currentIndex > 0) {
                    currentIndex--;
                    player.loadVideoById(playlist[currentIndex]);
                } else {
                    alert("ðŸš« Already at the first video!");
                }
            }
        </script>
    </body>
</html>
